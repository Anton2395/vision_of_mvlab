# Документация API запросов для модуля Recorder  
## Создание, обновление, вывод и удаление рабочей области

**ВАЖНО!! Для получения данных необходмио в заголовке отправлять Token**  
> Header - Authorization: Token \<token>  

- Для создания нового рабочего пространства необходимо отправить ***POST*** запрос на сервер
по следующему пути
```
http(s)://<servername>/recorder/structure/Workspace/
```
> \/ в конце запросов обязателен
 
со следующими данными в теле:
```
{
    "name":<string>
}
```
> имя может отсутсвовать, в этом случае будет задано знчение по умолчанию 
> \- workspace
- Для получения списка всех рабочих пространств пользователя необходимо
отправить ***GET*** запрос по адресу:
```
http(s)://<servername>/recorder/structure/Workspace/
```
- Для обновления имени рабочего простраснства необходимо отправить ***PUT*** запрос на адрес:
```
http(s)://<servername>/recorder/structure/Workspace/<id>/
```
> где \<id> - идентификатор рабочего пространства

с данными вида  
```
{
    "name":<str>
}
```
- Для удаления рабочего пространства необходимо отправить запрос ***DELETE*** на адресс:
```
http(s)://<servername>/recorder/structure/Workspace/<id>/
```
> где \<id> - идентификатор рабочего пространства


## Создание, обновление, вывод и удаление рабочей области  
##### *Чтобы получить "список графиков" смотри следующий подраздел*  

- Для создание рабочей области необходимо отправить ***POST*** запрос на адрес:
```
http(s)://<servername>/recorder/structure/Workarea/
```

с данными вида  

```
{
     "name":<string>,
     "parent":<int:id_workspace>,
     "data":[
                {"value":<int:id_valuesensor>,"color":<str:"#ffffff">},
                ....
                {"value":<int:id_valuesensor>,"color":<:str"#000fff">}
            ]
}
```
> data - обязательное поле может быть пустой массив   
> parent -  обязательное поле не может быть пустым  

- Для получения списка **ВСЕХ** рабочих областей **ВСЕХ ПОЛЬЗОВАТЕЛЕЙ** необходимо отправить ***GET*** запрос на адрес:
```
http(s)://<servername>/recorder/structure/Workarea/
```
- Для получения рабочих областей определенной рабочей зоны необходимо отправить ***GET***
 запрос с параметром ```parent=<int:id>``` пример и описание ниже:
```
http(s)://<servername>/recorder/structure/Workarea/?parent=<int:id>
```
> где id - это идентификатор рабочей области
> здесь \/ в конце  ***ЗАПРЕЩЕН***  

- Для получения данных только одной рабочей области необходимо отправить ***GET*** запрос на адрес:

```
http(s)://<servername>/recorder/structure/Workarea/<int:id>/
```
> где id  - идентификтор рабочей области  

- Для обновления данных рабочей области необходимо отправить ***PUT*** запрос на адрес:  
```
http(s)://<servername>/recorder/structure/Workarea/<int:id>/
```
> где id  - идентификтор рабочей области  

С данными вида:  
```
{
     "name":<string>,
     "parent":<int:id_workspace>,
     "data":[
                {"value":<int:id_valuesensor>,"color":<str:"#ffffff">},
                ....
                {"value":<int:id_valuesensor>,"color":<:str"#000fff">}
            ]
}
```
> data - обязательное поле может быть пустой массив   
> parent -  обязательное поле не может быть пустым  

- Для удаления рабочей области необходимо отправить запрос ***DELETE***  на адрес:  
```
http(s)://<servername>/recorder/structure/Workarea/<int:id>/
```

> где id  - идентификтор рабочей области  

## Получение списка графиов 
##### для выподающего списка в окне Работа с графиками: "Рабочая область N"


- Для получения списка графиков необходимо отправить запрос ***GET*** на адресс:
```
http(s)://<servername>/recorder/structure/ValueSensor/
```
> поле id этого запроса используется в создании рабочей области как id_valuesensor  
